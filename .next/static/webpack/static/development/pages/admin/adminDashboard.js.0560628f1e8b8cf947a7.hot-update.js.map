{"version":3,"file":"static/webpack/static/development/pages/admin/adminDashboard.js.0560628f1e8b8cf947a7.hot-update.js","sources":["webpack:///./components/admin/manageContactForms.js"],"sourcesContent":["import React, { Component } from \"react\";\nimport axios from \"axios\";\nimport {\n  Row,\n  Col,\n  Card,\n  Drawer,\n  List,\n  Avatar,\n  Button,\n  Skeleton,\n  Modal,\n  Table,\n  Popover,\n  Icon,\n  Form,\n  Input,\n  Radio,\n  DatePicker,\n  InputNumber,\n  Checkbox,\n  Upload\n} from \"antd\";\nimport moment from \"moment\";\nimport Link from \"next/link\";\n\nimport reqwest from \"reqwest\";\nimport { withRouter } from \"next/router\";\n\nconst { Meta } = Card;\n\nclass ManageContactForms extends Component {\n  componentDidMount() {}\n  state = {\n    contactForms: [],\n\n    count: 0\n  };\n\n  componentWillMount() {}\n  componentDidMount() {\n    this.getData(res => {\n      this.setState({\n        contactForms: res\n      });\n    });\n  }\n\n  getData = callback => {\n    reqwest({\n      url: `https://celebraton-server.herokuapp.com/api/contactForms/allForms/2/${\n        this.state.count\n      }`,\n      type: \"json\",\n      method: \"get\",\n      contentType: \"application/json\",\n      success: res => {\n        console.log(res);\n        callback(res);\n      }\n    });\n  };\n\n  onLoadMore = () => {\n    this.setState({\n      count: this.state.count + 2\n    });\n    this.getData(res => {\n      const contactForms = this.state.contactForms.concat(res);\n      this.setState(\n        {\n          contactForms\n        },\n        () => {\n          // Resetting window's offsetTop so as to display react-virtualized demo underfloor.\n          // In real scene, you can using public method of react-virtualized:\n          // https://stackoverflow.com/questions/46700726/how-to-use-public-method-updateposition-of-react-virtualized\n          window.dispatchEvent(new Event(\"resize\"));\n        }\n      );\n    });\n  };\n\n  render() {\n    const { selectLocationInModal } = this.context;\n    const { contactForms } = this.state;\n    const loadMore = (\n      <div\n        style={{\n          textAlign: \"center\",\n          marginTop: 12,\n          height: 32,\n          lineHeight: \"32px\"\n        }}\n      >\n        <Button onClick={this.onLoadMore}>Load more</Button>\n      </div>\n    );\n\n    return (\n      <React.Fragment>\n        <div style={{ background: \"#ECECEC\", padding: \"30px\" }}>\n          <h1 style={{ textAlign: \"center\" }}>All Contact Forms</h1>\n          <List\n            className=\"demo-loadmore-list\"\n            itemLayout=\"horizontal\"\n            loadMore={loadMore}\n            dataSource={contactForms}\n            grid={{\n              gutter: 16,\n              xs: 1,\n              sm: 2,\n              md: 3,\n              lg: 3,\n              xl: 3,\n              xxl: 3\n            }}\n            style={{ padding: \"10px\" }}\n            renderItem={form => (\n              <List.Item>\n                <Card\n                  hoverable\n                  title={moment(form.date).format(\"DD MMM, YYYY\")}\n                  bordered={false}\n                >\n                  Name:\n                  <b>{\" \" + form.name}</b> <br />\n                  Mobile:\n                  <b>{\" \" + form.mobile}</b> <br />\n                  Role:\n                  <b>{\" \" + form.role}</b>\n                </Card>\n              </List.Item>\n            )}\n          />\n\n          <style jsx>{`\n            a {\n              text-decoration: none;\n            }\n          `}</style>\n        </div>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default ManageContactForms;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AAqBA;AACA;AAEA;AACA;AAEA;AACA;AACA;;;;;;;;;;;;;;;;;;AAEA;AACA;AAEA;AAHA;AACA;AAcA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AAVA;AAYA;AACA;AACA;AACA;AACA;AADA;AACA;AAEA;AACA;AACA;AAAA;AAEA;AADA;AAIA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;;;;;;AAlDA;;;AAOA;;;AACA;AAAA;AACA;AAAA;AACA;AACA;AADA;AAGA;AACA;;;AAqCA;AAAA;AAAA;AAGA;AAEA;AACA;AACA;AACA;AACA;AAJA;AADA;AAQA;AAAA;AAIA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;AASA;AAAA;AAAA;AACA;AAAA;AAGA;AACA;AACA;AAHA;AAMA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAEA;AAAA;AAZA;AAfA;AAFA;AAAA;AAAA;AA2CA;;;;AAjHA;AACA;AAmHA;;;;A","sourceRoot":""}